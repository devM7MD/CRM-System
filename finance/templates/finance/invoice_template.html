<div class="invoice-container">
    <div class="invoice-header mb-6">
        <h2 class="text-xl font-bold text-gray-800 mb-2">{% trans "INVOICE" %}</h2>
        <div class="text-sm text-gray-600">
            <p><strong>{% trans "Order Code" %}:</strong> {{ order.code }}</p>
            <p><strong>{% trans "Date" %}:</strong> {{ order.date|date:"Y-m-d" }}</p>
            {% if payment %}
            <p><strong>{% trans "Payment Method" %}:</strong> {{ payment.get_payment_method_display }}</p>
            <p><strong>{% trans "Payment Status" %}:</strong> {{ payment.get_status_display }}</p>
            {% endif %}
        </div>
    </div>
    
    <div class="invoice-details mb-6">
        <div class="grid grid-cols-2 gap-4">
            <div>
                <h3 class="text-md font-semibold text-gray-700 mb-2">{% trans "Seller Information" %}</h3>
                <div class="text-sm text-gray-600">
                    <p>{{ order.seller.name }}</p>
                    <p>{{ order.seller.email }}</p>
                    <p>{{ order.seller.phone }}</p>
                </div>
            </div>
            
            <div>
                <h3 class="text-md font-semibold text-gray-700 mb-2">{% trans "Customer Information" %}</h3>
                <div class="text-sm text-gray-600">
                    <p>{{ order.customer_name }}</p>
                    <p>{{ order.customer_email }}</p>
                    <p>{{ order.customer_phone }}</p>
                    <p>{{ order.address }}</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="invoice-items mb-6">
        <h3 class="text-md font-semibold text-gray-700 mb-2">{% trans "Order Items" %}</h3>
        <table class="w-full text-sm text-left text-gray-600">
            <thead class="text-xs text-gray-700 uppercase bg-gray-100">
                <tr>
                    <th class="px-4 py-2">{% trans "Product" %}</th>
                    <th class="px-4 py-2">{% trans "Quantity" %}</th>
                    <th class="px-4 py-2">{% trans "Price per Unit" %}</th>
                    <th class="px-4 py-2">{% trans "Total" %}</th>
                </tr>
            </thead>
            <tbody>
                {% for item in order.items.all %}
                <tr class="border-b">
                    <td class="px-4 py-2">{{ item.product.name_en }}</td>
                    <td class="px-4 py-2">{{ item.quantity }}</td>
                    <td class="px-4 py-2">{{ item.price }}</td>
                    <td class="px-4 py-2">{{ item.get_total }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <div class="invoice-fees mb-6">
        <h3 class="text-md font-semibold text-gray-700 mb-2">{% trans "Fees" %}</h3>
        <table class="w-full text-sm text-left text-gray-600">
            <tbody>
                {% if fees %}
                <tr class="border-b">
                    <td class="px-4 py-2">{% trans "Upsell Fees" %}</td>
                    <td class="px-4 py-2 text-right">{{ fees.upsell_fees }}</td>
                </tr>
                <tr class="border-b">
                    <td class="px-4 py-2">{% trans "Confirmation Fees" %}</td>
                    <td class="px-4 py-2 text-right">{{ fees.confirmation_fees }}</td>
                </tr>
                <tr class="border-b">
                    <td class="px-4 py-2">{% trans "Cancellation Fees" %}</td>
                    <td class="px-4 py-2 text-right">{{ fees.cancellation_fees }}</td>
                </tr>
                <tr class="border-b">
                    <td class="px-4 py-2">{% trans "Fulfillment Fees" %}</td>
                    <td class="px-4 py-2 text-right">{{ fees.fulfillment_fees }}</td>
                </tr>
                <tr class="border-b">
                    <td class="px-4 py-2">{% trans "Shipping Fees" %}</td>
                    <td class="px-4 py-2 text-right">{{ fees.shipping_fees }}</td>
                </tr>
                <tr class="border-b">
                    <td class="px-4 py-2">{% trans "Return Fees" %}</td>
                    <td class="px-4 py-2 text-right">{{ fees.return_fees }}</td>
                </tr>
                <tr class="border-b">
                    <td class="px-4 py-2">{% trans "Warehouse Fees" %}</td>
                    <td class="px-4 py-2 text-right">{{ fees.warehouse_fees }}</td>
                </tr>
                {% else %}
                <tr class="border-b">
                    <td colspan="2" class="px-4 py-2 text-center">{% trans "No fees for this order" %}</td>
                </tr>
                {% endif %}
                <tr class="border-b font-medium">
                    <td class="px-4 py-2">{% trans "Total Fees" %}</td>
                    <td class="px-4 py-2 text-right">{{ total_fees }}</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div class="invoice-totals mb-6">
        <table class="w-full text-sm text-left text-gray-600">
            <tr class="border-b">
                <td class="px-4 py-2 font-medium">{% trans "Subtotal" %}</td>
                <td class="px-4 py-2 text-right">{{ order.get_total_price }}</td>
            </tr>
            <tr class="border-b">
                <td class="px-4 py-2 font-medium">{% trans "Total Fees" %}</td>
                <td class="px-4 py-2 text-right">{{ total_fees }}</td>
            </tr>
            <tr class="font-bold text-gray-800">
                <td class="px-4 py-2">{% trans "GRAND TOTAL" %}</td>
                <td class="px-4 py-2 text-right">{{ grand_total }}</td>
            </tr>
        </table>
    </div>
    
    <div class="invoice-footer text-center text-xs text-gray-500 mt-8">
        <p>{% trans "Thank you for your business!" %}</p>
        <p>{% trans "This is a computer-generated invoice and doesn't require a signature." %}</p>
    </div>
</div> 